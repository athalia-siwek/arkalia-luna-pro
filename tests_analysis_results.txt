============================= test session starts ==============================
platform darwin -- Python 3.10.14, pytest-8.4.1, pluggy-1.6.0 -- /Volumes/T7/arkalia-luna-venv/bin/python
cachedir: .pytest_cache
benchmark: 5.1.0 (defaults: timer=time.perf_counter disable_gc=False min_rounds=5 min_time=0.000005 max_time=1.0 calibration_precision=10 warmup=False warmup_iterations=100000)
rootdir: /Volumes/T7/devstation/cursor/arkalia-luna-pro
configfile: pytest.ini
testpaths: tests
plugins: anyio-4.9.0, cov-6.2.1, asyncio-1.0.0, benchmark-5.1.0, timeout-2.4.0, xdist-3.7.0
asyncio: mode=strict, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 7 items / 5 errors

==================================== ERRORS ====================================
___________________ ERROR collecting tests/base/test_base.py ___________________
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1050: in _gcd_import
    ???
<frozen importlib._bootstrap>:1027: in _find_and_load
    ???
<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:688: in _load_unlocked
    ???
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:186: in exec_module
    exec(co, module.__dict__)
tests/base/test_base.py:5: in <module>
    from helloria.core import app  # Assure-toi que helloria/core.py expose bien `app`
helloria/core.py:9: in <module>
    from modules.monitoring.prometheus_metrics import get_metrics_summary
E     File "/Volumes/T7/devstation/cursor/arkalia-luna-pro/modules/monitoring/__init__.py", line 15
E       from core.ark_logger import ark_logger
E       ^^^^
E   IndentationError: expected an indented block after 'try' statement on line 14
__________________ ERROR collecting tests/chaos/chaos_test.py __________________
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1050: in _gcd_import
    ???
<frozen importlib._bootstrap>:1027: in _find_and_load
    ???
<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:688: in _load_unlocked
    ???
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:186: in exec_module
    exec(co, module.__dict__)
tests/chaos/chaos_test.py:16: in <module>
    from modules.zeroia.reason_loop import load_context
modules/zeroia/__init__.py:16: in <module>
    from .reason_loop import reason_loop
E     File "/Volumes/T7/devstation/cursor/arkalia-luna-pro/modules/zeroia/reason_loop.py", line 304
E       , extra={"module": "zeroia"})
E       ^
E   SyntaxError: invalid syntax
__________________ ERROR collecting tests/core/test_hooks.py ___________________
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1050: in _gcd_import
    ???
<frozen importlib._bootstrap>:1027: in _find_and_load
    ???
<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:688: in _load_unlocked
    ???
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:186: in exec_module
    exec(co, module.__dict__)
tests/core/test_hooks.py:3: in <module>
    from arkalia import hooks
arkalia/hooks.py:2: in <module>
    from scripts.sitemap_generator import generate_sitemap_from_site
E     File "/Volumes/T7/devstation/cursor/arkalia-luna-pro/scripts/sitemap_generator.py", line 80
E       ark_logger.info(f"⚠️ Ping échoué ({response.status_code}, extra={"module": "scripts"})")
E                                                                               ^^^^^^
E   SyntaxError: f-string: expecting '}'
_______________ ERROR collecting tests/core/test_main_launch.py ________________
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1050: in _gcd_import
    ???
<frozen importlib._bootstrap>:1027: in _find_and_load
    ???
<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:688: in _load_unlocked
    ???
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:186: in exec_module
    exec(co, module.__dict__)
tests/core/test_main_launch.py:1: in <module>
    from app import main
app/main.py:21: in <module>
    from modules.monitoring.prometheus_metrics import ArkaliaMetrics
E     File "/Volumes/T7/devstation/cursor/arkalia-luna-pro/modules/monitoring/__init__.py", line 15
E       from core.ark_logger import ark_logger
E       ^^^^
E   IndentationError: expected an indented block after 'try' statement on line 14
____________ ERROR collecting tests/integration/api/test_server.py _____________
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/python.py:498: in importtestmodule
    mod = import_path(
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/pathlib.py:587: in import_path
    importlib.import_module(module_name)
/opt/homebrew/opt/pyenv/versions/3.10.14/lib/python3.10/importlib/__init__.py:126: in import_module
    return _bootstrap._gcd_import(name[level:], package, level)
<frozen importlib._bootstrap>:1050: in _gcd_import
    ???
<frozen importlib._bootstrap>:1027: in _find_and_load
    ???
<frozen importlib._bootstrap>:1006: in _find_and_load_unlocked
    ???
<frozen importlib._bootstrap>:688: in _load_unlocked
    ???
../../../arkalia-luna-venv/lib/python3.10/site-packages/_pytest/assertion/rewrite.py:186: in exec_module
    exec(co, module.__dict__)
tests/integration/api/test_server.py:4: in <module>
    from helloria.core import app
helloria/core.py:9: in <module>
    from modules.monitoring.prometheus_metrics import get_metrics_summary
E     File "/Volumes/T7/devstation/cursor/arkalia-luna-pro/modules/monitoring/__init__.py", line 15
E       from core.ark_logger import ark_logger
E       ^^^^
E   IndentationError: expected an indented block after 'try' statement on line 14
=========================== short test summary info ============================
ERROR tests/base/test_base.py
ERROR tests/chaos/chaos_test.py
ERROR tests/core/test_hooks.py
ERROR tests/core/test_main_launch.py
ERROR tests/integration/api/test_server.py
!!!!!!!!!!!!!!!!!!!!!!!!!! stopping after 5 failures !!!!!!!!!!!!!!!!!!!!!!!!!!!
============================== 5 errors in 1.03s ===============================
